name: Verificar sintaxis HTML, CSS y JS

on:
  push:
    branches:
      - main
      - Development
      - 'feature/**'
  pull_request:
    branches:
      - main
      - Development
      - 'feature/**'

jobs:
  syntax-check:
    runs-on: ubuntu-latest
    steps:
      - name: "üì• Clonar repositorio"
        uses: actions/checkout@v3

      - name: "üîç Verificar sintaxis HTML"
        run: |
          sudo apt-get update && sudo apt-get install -y tidy
          echo "üìÑ Revisando archivos HTML..."
          for file in $(find . -name "*.html"); do
            if ! tidy -qe "$file"; then
              echo "‚ùå Error de sintaxis en HTML: $file"
              exit 1
            fi
          done

      - name: "üé® Verificar sintaxis CSS"
        run: |
          echo '{ "extends": "stylelint-config-standard" }' > .stylelintrc.json
          npm install -g stylelint stylelint-config-standard
          echo "üé® Revisando archivos CSS..."
          for file in $(find . -name "*.css"); do
            if ! stylelint "$file"; then
              echo "‚ùå Error de sintaxis en CSS: $file"
              exit 1
            fi
          done

      - name: "‚ö° Verificar sintaxis JavaScript"
        run: |
          echo "‚ö° Revisando archivos JavaScript..."
          npm install -g eslint
          for file in $(find . -name "*.js"); do
            if ! eslint "$file"; then
              echo "‚ùå Error de sintaxis en JS: $file"
              exit 1
            fi
          done
